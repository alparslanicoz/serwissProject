<div *ngIf="document" id="document-viewer"> 
    <div id="document-viewer-header">
        <a class="close margin-sides-15 img-30" (click)="closeViewer()"></a>
        <div class="file-name-header">{{document.fileName}}</div>
        
        <a class="options img-30 margin-sides-15 pull-right"></a>
        
        <a class="share img-30 margin-sides-15 pull-right"></a>
        
        <a class="download img-30 margin-sides-15 pull-right"></a>

        <a class="print img-30 margin-sides-15 pull-right"></a>
    </div>
    <div class="document-viewer-document {{showInfo ? '' : 'full-width-viewer'}}"
     [innerHTML]="document.htmlRendering | safeHtmlPipe">      
    </div>
    <div  [ngClass]="displayInfoPanel" class="info-panel">
        <div (click)="toggleInfo()" class="collapse-info pull-left img-30 pointer"></div>
        <md-tab-group>
        <md-tab>
            <template md-tab-label>Activity</template>
            <template md-tab-content>
                <div class="activity-card" *ngFor="let feedItem of document.activityFeed">
                    <div class="activity-date text-align-right">{{feedItem.date | date:"MM/dd/yy"}}</div>
                    <div>
                        <span>{{feedItem.actor}} </span>
                        <span>{{feedItem.action}} </span>
                    </div>                
                </div>              
            </template>
        </md-tab>
        <md-tab>
            <template md-tab-label>Details</template>
            <template md-tab-content class="margin-sides-15"> 
                <div class="padding-top-15">
                Type: {{document.metaData.document_type}}
                </div>
                <div class="padding-top-7-5">
                Size: {{document.metaData.file_size | fileSizePipe}}
                </div>
                <div  class="padding-top-7-5">
                Owner: {{document.metaData.owner}}
                </div>
                <div  class="padding-top-7-5">
                Source: {{document.metaData.source}}
                </div>
                <div  class="padding-top-7-5">
                Date: {{document.metaData.date}}
                </div>
                <div  class="padding-top-7-5">
                Path: {{document.metaData.file_path}}
                </div>
                <div class="pointer padding-top-15" (click)="toggleMoreMetaData()">
                    <span class="options-h img-30 margin-sides-15"></span><span class="line-height-30"> {{toggleMetaData}}</span>
                </div>
                <div [ngClass]="moreMetaDataClass">
                    <div class="padding-top-7-5">
                        Owner: {{document.metaData.owner}}
                    </div>
                    <div class="padding-top-7-5">
                        Source: {{document.metaData.source}}
                    </div>
                </div>
            <h2 class="padding-top-15">Visibility Settings</h2>
            <h2 class="padding-top-15">Related Documents</h2>             
            <div>
                <div class="display-inline-block" *ngFor="let relatedDoc of document.relatedDocumentArray">
                <img class="related-doc" src="{{relatedDoc.screenshotPath}}"/>
                </div>
            </div>          
            </template>
        </md-tab>
        </md-tab-group>            
    </div>
    <div [ngClass]="displayInfoMinPanel" class="info-panel-min">
        <div (click)="toggleInfo()" class="expand-info img-30"></div>
    </div>
</div>